**端口映射（Port Mapping），又称端口转发（Port Forwarding），是一种网络地址转换（NAT）技术，它将外部网络请求转发到内部网络中指定设备的特定端口，实现内网设备与外部网络的通信**。

#### 工作原理

1. **外部请求**：外部设备向路由器的公网IP和指定端口发送请求。
2. **路由器转发**：路由器根据预设的端口映射规则，将请求转发到内部网络中的特定设备。
3. **内部响应**：内部设备处理请求，并通过相同的端口将数据返回给外部设备。

#### 类型

- **静态端口映射**：将公网端口固定映射到内网设备的特定端口，适用于需要长期访问的服务，如Web服务器。
- **动态端口映射**：通过NAT自动分配端口，适用于临时通信，如内网设备访问外网资源。

#### 应用场景

- **远程访问**：通过端口映射，可以从外部网络访问内网的服务器、摄像头等设备。
- **网络游戏**：允许外部玩家连接到内网的游戏服务器，实现多人在线游戏。
- **P2P文件共享**：帮助P2P应用程序穿透NAT，实现文件共享和下载。

#### 配置方法

1. **登录路由器管理界面**：通过浏览器访问路由器的IP地址（如192.168.3.1或192.168.8.1），输入用户名和密码登录。
2. **设置端口映射规则**：在路由器管理界面中找到“端口映射”、“虚拟服务器”或“NAT服务”等选项，添加映射规则，包括服务名称、内部IP地址、内部端口、外部端口和协议类型等。
3. **保存并应用**：保存设置并确保规则生效。

#### 注意事项

- **公网IP**：路由器的WAN口必须为公网IP，否则端口映射可能无法正常工作。
- **安全性**：开放端口可能增加网络安全风险，建议仅映射必要的端口，并采取安全措施，如防火墙和访问控制。
- **UPnP**：部分路由器支持UPnP自动配置端口映射，但可能带来安全风险，建议谨慎使用。

通过合理配置端口映射，可以实现内网设备与外部网络的安全通信，满足各种网络应用的需求。